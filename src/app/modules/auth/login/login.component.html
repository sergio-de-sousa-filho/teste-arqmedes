<app-toolbar [show-user-data]="false"></app-toolbar>

<div class="login-page">
    <mat-card>
        <mat-card-title>
            {{ 'login.credentials' | translate }}
        </mat-card-title>

        <mat-card-content>    
            <form [formGroup]="form" autocomplete="off">
            
                <mat-form-field appearance="outline">
                    <mat-label>Email</mat-label>
                    <input matInput placeholder="{{ 'login.type-your-email' | translate }}" formControlName="email" type="email" [readonly]="loading" (keydown)="inputKeyDown($event)">
                    <mat-icon matSuffix>person</mat-icon>
                    <mat-error *ngIf="form.get('email')?.errors">{{ 'login.invalid-email' | translate }}</mat-error>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>{{ 'login.password' | translate }}</mat-label>
                    <input matInput placeholder="{{ 'login.type-your-password' | translate }}" type="password" formControlName="password" [readonly]="loading" (keydown)="inputKeyDown($event)">
                    <mat-icon matSuffix>lock</mat-icon>
                    <mat-error *ngIf="form.get('password')?.errors">{{ 'login.invalid-password' | translate }}</mat-error>
                </mat-form-field>

                <div *ngIf="loginFailed" class="login-failed-feedback">
                    {{ 'login.invalid-login-verify' | translate }}
                </div>
                               
            </form>    

        </mat-card-content>

        <mat-card-footer>            
            <mat-spinner *ngIf="loading" [diameter]="'30'"></mat-spinner>
            <button type="submit" mat-button (click)="submit()" [disabled]="form.status !== 'VALID'">
                {{ 'login.login' | translate }}
            </button>
        </mat-card-footer>

    </mat-card>

</div>



